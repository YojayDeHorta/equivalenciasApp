import{r as o}from"./index.ed373d49.js";function R(l,r=[]){const[a,t]=o.useState(!0),[n,c]=o.useState(),[u,m]=o.useState(),d=o.useCallback(()=>{t(!0),c(void 0),m(void 0),l().then(m).catch(c).finally(()=>t(!1))},r);return o.useEffect(()=>{d()},[d]),{loading:a,error:n,value:u}}const S={headers:{"Content-Type":"application/json"}};function E(l,r={},a=[]){return R(()=>fetch(l,{...S,...r}).then(t=>t.ok?t.json():t.json().then(n=>Promise.reject(n))),a)}var N={exports:{}},h={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g=o,w=Symbol.for("react.element"),F=Symbol.for("react.fragment"),O=Object.prototype.hasOwnProperty,k=g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C={key:!0,ref:!0,__self:!0,__source:!0};function y(l,r,a){var t,n={},c=null,u=null;a!==void 0&&(c=""+a),r.key!==void 0&&(c=""+r.key),r.ref!==void 0&&(u=r.ref);for(t in r)O.call(r,t)&&!C.hasOwnProperty(t)&&(n[t]=r[t]);if(l&&l.defaultProps)for(t in r=l.defaultProps,r)n[t]===void 0&&(n[t]=r[t]);return{$$typeof:w,type:l,key:c,ref:u,props:n,_owner:k.current}}h.Fragment=F;h.jsx=y;h.jsxs=y;N.exports=h;var e=N.exports;function _({children:l,name:r,label:a,SelectRef:t}){return e.jsx(e.Fragment,{children:e.jsxs("label",{htmlFor:r,children:[a,":",e.jsx("select",{className:"form-select",name:r,ref:t,children:l})]})})}function P(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"card_placeholder",children:[e.jsx("div",{className:"pill",children:e.jsx("div",{className:"placeholder placeholder_title"})}),e.jsx("div",{className:"placeholder placeholder_input"}),e.jsxs("div",{children:[e.jsx("div",{className:"placeholder placeholder_label"}),e.jsx("div",{className:"placeholder placeholder_input"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"placeholder placeholder_label"}),e.jsx("div",{className:"placeholder placeholder_input"})]}),e.jsx("div",{className:"placeholder placeholder_button"})]})})}const L="/_astro/invert.63fda2b2.svg";function A({cssClass:l,cardData:r}){const[a,t]=o.useState(""),[n,c]=o.useState(!1),[u,m]=o.useState(""),d=o.useRef(null),x=o.useRef(null),j=o.useRef(null),f=E(r.url,{method:"GET"}),T=()=>{t("");let s="",i=x.current,v=j.current;s=v.value,v.value=i.value,i.value=s,b(r.url)},b=async s=>{c(!0),t("");const i=Object.fromEntries(new FormData(d.current));if(i.valueToconvert=parseFloat(i.valueToconvert,10),!i.valueToconvert)throw new Error("Campo vacio");if(i.valueToconvert<=0)throw new Error("Valor no permitido");try{const p=await(await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).json();if(!p.ok)throw new Error(p.message);t(p.result+" "+i.convertTo)}catch(v){m(v.message)}c(!1)};return e.jsx("article",{className:l,children:f.value?e.jsxs("form",{ref:d,className:"card_form",children:[e.jsx("div",{className:"pill",children:r.title}),e.jsx("div",{children:e.jsx("input",{className:"form-control",type:"text",name:"valueToconvert",placeholder:"Value",autoComplete:"off"})}),e.jsx(_,{name:"convertFrom",label:"From",SelectRef:x,children:f.value.map(s=>e.jsx("option",{value:s.abbreviation,children:s.name+" ("+s.abbreviation+")"},s.abbreviation))}),e.jsx("div",{className:"invert_container",children:e.jsx("img",{onClick:()=>T(),src:L,alt:"invert icon",width:"35px",height:"35px"})}),e.jsx(_,{name:"convertTo",label:"To",SelectRef:j,children:f.value.map(s=>e.jsx("option",{value:s.abbreviation,children:s.name+" ("+s.abbreviation+")"},s.abbreviation))}),e.jsxs("footer",{className:"footer_card",children:[e.jsx("button",{className:"btn",type:"button",onClick:()=>b(r.url),disabled:!!n,children:"Convert"}),e.jsx("span",{className:"textResult",name:"result",children:a})]})]}):e.jsx(P,{})})}export{A as default};
